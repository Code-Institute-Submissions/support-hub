{% extends "base.html" %}

{% block title %}
Profile - {{ profile.username }}
{% endblock %}

{% block content %}

{% load crispy_forms_tags %}

<!-- Messages Start -->
{% if messages %}
<div aria-live="polite" aria-atomic="true" class="position-relative">
  <div class="toast-container position-absolute top-0 end-0 p-3">
    {% for message in messages %}
    <div class="toast" {% if messaage.tags == 'error' %} role="alert" aria-live="assertive" {% else %} role="status"
      aria-live="polite" {% endif %} aria-atomic="true">
      <div class="toast-header">
        <!-- <img src="..." class="rounded me-2" alt="..."> -->
        <strong class="me-auto text-capitalize">{{ message.tags }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        {{ message }}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}
<!-- Messages End -->

<div class="container-fluid py-5 d-flex flex-row justify-content-center">
  <div class="d-flex flex-column mt-3 gap-4 w-100 max-w-600">
    <div class="card">
      <div class="card-header">
        Profile
      </div>
      <div class="card-body">
        <p>Username: {{ profile.username }}</p>
        <p>
          Full Name: 
          {% if profile.first_name or profile.last_name %}
          {{ profile.full_name }}
          {% else %}
          No name provided
          {% endif %}
        </p>
        <div>{{ profile.email }} <a href="{% url 'account_email' %}">edit email address</a></div>
      </div>
    </div>
  </div>
</div>

{% endblock %}